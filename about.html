<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>HI</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="style/general.css">
    <link rel="stylesheet" href="style/about.css">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Delius&family=Delius+Swash+Caps&family=Emilys+Candy&display=swap"
        rel="stylesheet">
</head>

<body>
    <div class="container about-you-section my-5">

        <!-- JUDUL -->
        <h3 class="section-title reveal">About Him ğŸ¤</h3>

        <!-- TEKS PANJANG -->
        <div class="about-you-text px-3">
            <p class="reveal-paragraph">
                âœ¨ This is the person I love the most. Yes, thatâ€™s you, ğŸ«¶
            </p>

            <p class="reveal-paragraph">
                You are the kind of person who looks calm on the outside, but actually has a whole galaxy of thoughts
                inside
                your head ğŸŒŒ Kadang sok strong, tapi tetap mau ditemenin, dimanjaa, disayang-sayangg juga.
            </p>

            <p class="reveal-paragraph">
                Kadang bingung sama manusia satu ini, kadang jadi orang yang paling dewasa sok cool keren yess âœ¨
                galaknya ishsh pengen lemparin batu aja rasanya kalo lagi marah marah.
                Tapi nyatanya dia ini bisa jadi bocil looooooh, udah mau saingan sama toddler kayanyaa ğŸ¤­ ğŸ’­
                <span class="wiggle">gumussshh</span> hehee ğŸ« ğŸ¤
            </p>
        </div>

        <!-- A. POLAROID PHOTOS -->
        <div class="polaroid-wrapper reveal">
            <div class="polaroid">
                <img src="img/han2.jpg" alt="Joshua photo">
                <span>Si dedek gantenggg.</span>
            </div>

            <div class="polaroid">
                <img src="img/han3.jpg" alt="Joshua photo">
                <span>My favorite human.</span>
            </div>

            <div class="polaroid">
                <img src="img/han.jpg" alt="Joshua photo">
                <span>Caught being cute.</span>
            </div>
        </div>

        <div class="about-you-text px-3">
            <p class="reveal">
                BAGIII LAAA POTO POTO GANTENG MU ITUUU!!!! Aku pake jeonghan nii jadinyaaaa
            </p>

            <p class="reveal">
                You laugh at random things, the way you exist, without even trying, already makes things feel lighter ğŸŒ·
                Youâ€™re not perfect (obviously), but somehow youâ€™re perfectly you. Sometimes quiet, sometimes random,
                sometimes annoying, but always comforting in ways you probably donâ€™t realize ğŸ’Œ
            </p>

            <p class="reveal">
                <span class="soft-heart">ğŸ¤</span>
                Being with you feels simple, warm, and a little bit addictive,
                in the best way possible ğŸ¥°
            </p>
        </div>

        <!-- B. CLICK TO REVEAL -->
        <div class="reveal">
            <button id="revealBtn" class="reveal-btn">Click me ğŸ¤</button>
            <p id="revealText" class="reveal-text"></p>
        </div>

        <div class="mini-notes">
            <div class="bubble left">
                ğŸ’¬ Me: â€œKamu nyebelin.â€
            </div>

            <div class="bubble right">
                ğŸ’¬ Also me: â€œBut youâ€™re still my favorite human.â€
            </div>

            <div class="bubble left">
                ğŸ’¬ Me: â€œAku kuat kok.â€
            </div>

            <div class="bubble right">
                ğŸ’¬ Also me: â€œBut life feels lighter with you.â€
            </div>

            <div class="bubble center fact">
                ğŸ’¬ Fact: He makes my bad days quieter, without even trying.
            </div>
        </div>

        <a href="reason.html" class="btn start-btn">Next page!</a>
    </div>

    <audio id="bg-music" loop>
        <source src="stream.mp3" type="audio/mpeg">
    </audio>

    <script>
        const revealBtn = document.getElementById("revealBtn");
        const revealText = document.getElementById("revealText");

        const messages = [
            "He pretends not to care, but he does.",
            "Soft heart, hidden very well.",
            "You make things feel safe.",
            "Youâ€™re doing better than you think ğŸ¤",
        ];

        revealBtn.addEventListener("click", () => {
            const random = messages[Math.floor(Math.random() * messages.length)];
            revealText.textContent = random;
            revealText.classList.add("show");
        });

        document.addEventListener("DOMContentLoaded", () => {

            /* OBSERVER UMUM */
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add("show");
                        observer.unobserve(entry.target);
                    }
                });
            }, {
                threshold: 0.2
            });

            /* judul & elemen biasa */
            document.querySelectorAll(".reveal").forEach(el => {
                observer.observe(el);
            });

            /* PARAGRAF STAGGER */
            const paragraphContainer = document.querySelector(".about-you-text");
            const paragraphs = paragraphContainer.querySelectorAll(".reveal-paragraph");

            const paragraphObserver = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        paragraphs.forEach((p, index) => {
                            setTimeout(() => {
                                p.classList.add("show");
                            }, index * 800); // jeda antar paragraf
                        });
                        paragraphObserver.unobserve(entry.target);
                    }
                });
            }, {
                threshold: 0.3
            });

            paragraphObserver.observe(paragraphContainer);
        });

        document.addEventListener("DOMContentLoaded", () => {
            const revealBtn = document.getElementById("revealBtn");
            const bubbles = document.querySelectorAll(".mini-notes .bubble");

            revealBtn.addEventListener("click", () => {

                // â³ delay setelah click me
                const delayBeforeBubbles = 2000; // 2 detik (ubah kalau mau)

                setTimeout(() => {
                    bubbles.forEach((bubble, index) => {
                        setTimeout(() => {
                            bubble.classList.add("show");
                        }, index * 1000); // jeda 1 detik per bubble
                    });
                }, delayBeforeBubbles);

            });
        });

        const music = document.getElementById("bg-music");

        // Cek apakah sebelumnya sudah play
        const isPlaying = localStorage.getItem("musicPlaying");
        const musicTime = localStorage.getItem("musicTime");

        if (isPlaying === "true") {
            music.currentTime = musicTime ? parseFloat(musicTime) : 0;
            music.play();
        }

        // Simpan waktu sebelum pindah halaman
        window.addEventListener("beforeunload", () => {
            localStorage.setItem("musicTime", music.currentTime);
            localStorage.setItem("musicPlaying", !music.paused);
        });

        // Klik pertama untuk aktifkan (karena browser butuh user interaction)
        document.addEventListener("click", () => {
            if (music.paused) {
                music.play();
                localStorage.setItem("musicPlaying", true);
            }
        }, { once: true });
    </script>

    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
        integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.min.js"
        integrity="sha384-G/EV+4j2dNv+tEPo3++6LCgdCROaejBqfUeNjuKAiuXbjrxilcCdDz6ZAVfHWe1Y"
        crossorigin="anonymous"></script>
</body>

</html>